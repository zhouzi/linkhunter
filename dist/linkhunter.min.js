/*!
 * linkhunter - v3.1.1
 * Detect links that real users actually type.
 * https://github.com/Zhouzi/linkhunter
 *
 * @author Gabin Aureche
 * @license MIT
 */

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.linkhunter=t():e.linkhunter=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),i="(){}\"'",l=".!?:,;",u="(?=["+i+l+"]*)",s="([\\s"+i+l+"]*)",p="(?:[^\\s]*[^\\s"+i+l+"])?",f="(?:[-a-z0-9]{1,255}\\.)+[a-z]{2,10}",c="(?:mailto:)?[^\\s"+i+l.substr(1)+"]+@"+f,d="https?://"+f+"(?:/"+p+")?",g=f+"(?:/"+p+")?",m={regexps:{email:new RegExp("^"+c+"$","i"),regularUrl:new RegExp("^"+d+"$","i"),userUrl:new RegExp("^"+g+"$","i"),link:new RegExp("^((?:"+c+")|(?:"+d+")|(?:"+g+"))$","i"),links:new RegExp(s+"((?:"+d+")|(?:(?:"+c+")|(?:"+g+"))"+u+")","gi")},looksLikeAnEmail:function(e){return m.regexps.email.test(e)},looksLikeALink:function(e){var t=void 0===arguments[1]?!1:arguments[1];return!t&&m.looksLikeAnEmail(e)?!1:m.regexps.link.test(e)},getLinks:function(e){var t=void 0===arguments[1]?!1:arguments[1],r=[];return e.replace(m.regexps.links,function(e,t,n){r.push(n)}),t||!function(){var e=m;r=r.filter(function(t){return!e.looksLikeAnEmail(t)})}(),r},replaceLinks:function(e,t){var r=void 0===arguments[2]?m:arguments[2];return e.replace(m.regexps.links,function(e,n,o){return n+t.call(r,o)})},linky:function(e){var t=void 0===arguments[1]?{}:arguments[1],r={ignoreEmail:!1,target:null,protocol:"http://",displayValue:a["default"].merge({cleanUp:!1,beautify:!1,shorten:!1},t.displayValue||{})};t=a["default"].merge(r,t);var n=t.target?'<a href="{{formatted}}" target="'+t.target+'">{{displayValue}}</a>':'<a href="{{formatted}}">{{displayValue}}</a>',o=void 0,i=void 0;return m.replaceLinks(e,function(e){return o=m.looksLikeAnEmail(e),t.ignoreEmail&&o?e:(i=e,t.displayValue.cleanUp&&(i=m.cleanUp(i)),t.displayValue.beautify&&(i=m.beautify(i)),t.displayValue.shorten&&(i=m.shorten(i,t.displayValue.shorten)),t.displayValue.withProtocol&&(i=m.withProtocol(i,t.protocol)),o?'<a href="'+m.withProtocol(e)+'">'+i+"</a>":n.replace("{{formatted}}",m.withProtocol(e,t.protocol)).replace("{{displayValue}}",i))},m)},hasProtocol:function(e){return m.looksLikeAnEmail(e)?/^mailto:/i.test(e):/^https?:\/\//i.test(e)},withProtocol:function(e){var t=void 0===arguments[1]?"http://":arguments[1];return m.looksLikeAnEmail(e)&&(t="mailto:"),m.hasProtocol(e)?e:t+e},cleanUp:function(e){var t=void 0===arguments[1]?!1:arguments[1];if(t){var r=e.lastIndexOf("?");r>=0&&(e=e.substr(0,r))}return e=e.replace(/^https?:\/\//,"").replace(/\/#?$/,"")},shorten:function(e,t){return a["default"].addEllipsis(e,t)},beautify:function(e){var t=void 0===arguments[1]?!0:arguments[1];if(m.looksLikeAnEmail(e))return e;if(e=m.cleanUp(e,t),e.indexOf("/")<0)return e;var r=e.split("/");return r.length>2?r.shift()+"/.../"+r.pop():r.shift()+"/"+r.pop()}};t["default"]=m,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={merge:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},addEllipsis:function(e){var t=void 0===arguments[1]?e.length:arguments[1],r=void 0===arguments[2]?"...":arguments[2];return function(){return e.length<=t?e:e.substr(0,t-r.length)+r}()}},e.exports=t["default"]}])});